---
title: "Statistical Inference Project"
author: Michael Brown
date: January 15, 2015
output: html_document
---

## Part 1 - Simulation Exercise: Exponential Distribution


``` {r}
#### Libraries
library(ggplot2)

#### constants
    lambda <- 0.2
    n <- 40
    hist_breaks = 65
    set.seed(69)

####  Means
mns = NULL
for ( i in 1:1000){  
  mns = c(mns , mean(rexp(n , lambda)))  
}

head(mns)
sd(mns)


val <- hist(mns,  breaks = hist_breaks , prob = TRUE , xlab ='Means of exponential distribution with' , main = 'Histogram of 1,000 means of a 40 observation exponential distribution ')
abline (v = mean(mns), col="red", lwd = 3 ,  text(7, 0.53, paste("Observed Mean = " , round( mean(mns), digits = 3)), col = "red") )
abline (v = 1/lambda, col="blue", lwd = 3 , text(7, 0.5, paste("Theoretical Mean = " , format( 1/lambda , digits = 3)) , col = "blue") )

### Standard Deviations of means
print(paste( 'Observed standard deviation of the means = ' , sd(mns)))
print (paste('The theoretical standard deviation of an exponential distribution is standard deviation / sqrt(n) = ' , (1 / lambda )  / sqrt(n)))

### Variance of the means
print(paste( 'Observed variance of the distribtion = ' , var(mns)))
print (paste('The theoretical variance of an exponential distribution is SD ^ 2 = ' , ((1 / lambda )  / sqrt(n)) ^ 2))

### Correlation / Closeness
norm_dist_densities <- dnorm(val$mids , mean  = (1 / lambda ) , sd = (1 / lambda )  / sqrt(n)  )


plot(norm_dist_densities , val$density)
cor(norm_dist_densities , val$density)

### Normal Distro of means
hist(mns,  breaks = hist_breaks , prob = TRUE , xlab ='Means of exponential distribution with' , main = 'Density of Means v. Normal Distrobution ' , col = 'green')
lines(val$mids , norm_dist_densities )

```
